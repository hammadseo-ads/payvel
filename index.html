<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>payvel-cloud-wallet</title>
    <meta name="description" content="Lovable Generated Project" />
    <meta name="author" content="Lovable" />

    <meta property="og:title" content="payvel-cloud-wallet" />
    <meta property="og:description" content="Lovable Generated Project" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />
  </head>

  <body>
    <script>
      // Ultra-early polyfill - must run before ANY module loads
      window.global = window;
      
      // Create robust process object with nextTick
      if (!window.process) {
        window.process = {
          env: {},
          version: 'v16.0.0',
          nextTick: function(callback) {
            if (typeof callback !== 'function') {
              throw new TypeError('Callback must be a function');
            }
            var args = Array.prototype.slice.call(arguments, 1);
            Promise.resolve().then(function() {
              callback.apply(null, args);
            });
          }
        };
      } else if (!window.process.nextTick) {
        window.process.nextTick = function(callback) {
          if (typeof callback !== 'function') {
            throw new TypeError('Callback must be a function');
          }
          var args = Array.prototype.slice.call(arguments, 1);
          Promise.resolve().then(function() {
            callback.apply(null, args);
          });
        };
      }
      
      // Periodically check and restore nextTick if it gets removed
      setInterval(function() {
        if (window.process && !window.process.nextTick) {
          window.process.nextTick = function(callback) {
            if (typeof callback !== 'function') {
              throw new TypeError('Callback must be a function');
            }
            var args = Array.prototype.slice.call(arguments, 1);
            Promise.resolve().then(function() {
              callback.apply(null, args);
            });
          };
        }
      }, 100);
      
      console.log('ðŸ”§ Ultra-early polyfill loaded:', {
        hasProcess: !!window.process,
        hasNextTick: typeof window.process.nextTick === 'function'
      });
    </script>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
